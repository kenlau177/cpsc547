# About
Ken Lau  
Monday, December 01, 2014  

### Introduction
Random forests have become a very popular data mining algorithm due to the high accuracy of predictions and the ability to handle large amounts of input variables. However, this ensemble method is difficult to interpret. It is inefficient to analyze every tree individually. Moreover, the stochastic properties entailing individual trees provides minimal intuition as to why the overall model gives accurate predictions. This R shiny app presents a new method to visualize the ensemble of trees generated by a random forest model.  

### Visualizations
This app adapts several methods from Matthew Leonawicz that illustruates common methods of interpreting Random Forests. In addition to these methods, hamann similarity is derived to evaluate diversity amongst trees. Hamann similarity provides a way to filter and present trees based on tree similarity. The full description of this app is provided [here](http://kenlau177.github.io/cpsc547/).

### Data
This app currently serves as a demo, and only handles a specific set of data. This data is obtained from my MSc project work. There are 6 types of modulation signals (or classes) in total. These modulations include OOK, BPSK, OQPSK, and 3 types of BFSK. BFSKA is modulated at a medium intermediate frequency. BFSKB is modulated at a high intermediate frequency, and BFSKR2 is modulated at random intermediate frequencies within some range. There are 5 quantitative features and a total of 600 observations.



```r
library(knitr)
```

```
## Warning: package 'knitr' was built under R version 3.1.2
```

```r
# m1 to m5 corresponds to input variables
# cl corresponds to response variable
head(trainDat)
```

```
##       m1      m2      m3 m4      m5    cl
## 1 28.084 0.50321 0.55908 81 0.79173 BFSKA
## 2 55.311 0.63574 0.58586 81 0.75672 BFSKA
## 3 28.248 0.41817 0.48105 81 0.80030 BFSKA
## 4 46.533 0.72903 0.76270 81 0.77206 BFSKA
## 5 31.203 0.49942 0.76194 81 0.73678 BFSKA
## 6 31.698 0.88632 0.77689 81 0.76828 BFSKA
```

### Components of the App
We start by entering the number of trees. By default, the number of trees is 100. With 600 observations, 200-300 trees should be a sufficient number to achieve optimal predictions. This app currently does not scale well. The bottle neck occurs when deriving the hamann similarity. Computational complexity worsens significantly as the number of trees increases. I would not recommend fitting over 500 trees. When we press the fit random forest button, we can track the computation progress on the upper right corner of the page.

After the model fitting and hamann similarity computations are complete, a slider appears on the side bar panel. This slider filters the number of trees of the fitted model based on hamann similarity. The histogram on the main panel reflects the hamann range selected with the slider. As we move the slider, proportions of the histogram will be highlighted. The hamann range statistics are shown on the left side of the histogram, where the bracketed value corresponds to the percentile. 

In addition to the hamann range slider, we can choose the type of plot to render on the main panel. The 3 plot types consists of variable importance, proximity, and partial dependence. Each of these plots are rendered based on the trees selected from the hamann range.

An additional input variable selection box is displayed on the side bar panel below the plot type selection. This input variable is required for the partial dependence plot.

